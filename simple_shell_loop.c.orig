#include "main.h"
/**
 * lsh_loop - main shell loop
 * @prgname: name of program
 */
void lsh_loop(char *prgname)
{
	char *line, *trimmed_line;
	char **args;
<<<<<<< HEAD
	int status, i, num_tokens;
||||||| dc138be
	int status, i;
=======
	int status;
>>>>>>> 4f14ef80ab06a055e0355d1cb2f058e068ae3bd9

	do {
		if (isatty(0))
			_puts("#cisfun$ ");
		fflush(stdout);

		line = read_line();
		trimmed_line = trim_input(line);
		args = split_string(trimmed_line, DELIM, &num_tokens);
		status = execcmd(args, prgname);

		free(line);
<<<<<<< HEAD
		free(trimmed_line);

		for (i = 0; i < num_tokens; i++)
			free(args[i]);
||||||| dc138be
		if (isatty(0))
		{
			for (i = 0; args[i] != NULL; i++)
				free(args[i]);
		}
=======
>>>>>>> 4f14ef80ab06a055e0355d1cb2f058e068ae3bd9
		free(args);
	} while (status);
}
